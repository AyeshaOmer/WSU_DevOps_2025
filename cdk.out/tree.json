{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.215.0"},"children":{"ThomasStack":{"id":"ThomasStack","path":"ThomasStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"ThomasPipeline":{"id":"ThomasPipeline","path":"ThomasStack/ThomasPipeline","constructInfo":{"fqn":"aws-cdk-lib.pipelines.CodePipeline","version":"2.215.0"},"children":{"Pipeline":{"id":"Pipeline","path":"ThomasStack/ThomasPipeline/Pipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"2.215.0","metadata":[]},"children":{"ArtifactsBucket":{"id":"ArtifactsBucket","path":"ThomasStack/ThomasPipeline/Pipeline/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms"}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}},"Policy":{"id":"Policy","path":"ThomasStack/ThomasPipeline/Pipeline/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ThomasPipelineArtifactsBucket59C62674"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}},"Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"Role":{"id":"Role","path":"ThomasStack/ThomasPipeline/Pipeline/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"ThomasStack/ThomasPipeline/Pipeline/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/Pipeline/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["ThomasPipelineCodeBuildActionRoleD8859EBA","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}}],"Version":"2012-10-17"},"policyName":"ThomasPipelineRoleDefaultPolicy167D8C9F","roles":[{"Ref":"ThomasPipelineRole983AAFA8"}]}}}}}}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"ThomasPipelineArtifactsBucket59C62674"}},"pipelineType":"V1","restartExecutionOnUpdate":true,"roleArn":{"Fn::GetAtt":["ThomasPipelineRole983AAFA8","Arn"]},"stages":[{"name":"Source","actions":[{"name":"WSU_DevOps_2025","outputArtifacts":[{"name":"ThomasToan_WSU_DevOps_2025_Source"}],"actionTypeId":{"category":"Source","version":"1","owner":"ThirdParty","provider":"GitHub"},"configuration":{"Owner":"ThomasToan","Repo":"WSU_DevOps_2025","Branch":"main","OAuthToken":"{{resolve:secretsmanager:mytoken:SecretString:::}}","PollForSourceChanges":true},"runOrder":1}]},{"name":"Build","actions":[{"name":"BuildCommands","inputArtifacts":[{"name":"ThomasToan_WSU_DevOps_2025_Source"}],"outputArtifacts":[{"name":"BuildCommands_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"ThomasPipelineBuildBuildCommandsCdkBuildProjectFBFC9B1D"},"EnvironmentVariables":"[{\"name\":\"_PROJECT_CONFIG_HASH\",\"type\":\"PLAINTEXT\",\"value\":\"6952d4f3509f4adec8e8f2c3bf5553af327a5b8fdd4ab887ad252d4c1c638384\"}]"},"runOrder":1,"roleArn":{"Fn::GetAtt":["ThomasPipelineCodeBuildActionRoleD8859EBA","Arn"]}}]},{"name":"UpdatePipeline","actions":[{"name":"SelfMutate","inputArtifacts":[{"name":"BuildCommands_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"ThomasPipelineUpdatePipelineSelfMutation19CD4AF2"},"EnvironmentVariables":"[{\"name\":\"_PROJECT_CONFIG_HASH\",\"type\":\"PLAINTEXT\",\"value\":\"22e24755e923446a792d5e91ff0d6000def00021b87fe95036c642ee6a26f44b\"}]"},"runOrder":1,"roleArn":{"Fn::GetAtt":["ThomasPipelineCodeBuildActionRoleD8859EBA","Arn"]}}]},{"name":"Assets","actions":[{"name":"WHlambda_Code","inputArtifacts":[{"name":"BuildCommands_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"ThomasPipelineAssetsFileAsset1309E50BE"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["ThomasPipelineCodeBuildActionRoleD8859EBA","Arn"]}}]},{"name":"Beta","actions":[{"name":"BetaWebHealth.Prepare","inputArtifacts":[{"name":"BuildCommands_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"Beta-BetaWebHealth","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-cfn-exec-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"ActionMode":"CHANGE_SET_REPLACE","ChangeSetName":"PipelineChange","TemplatePath":"BuildCommands_Output::assembly-ThomasStack-Beta/ThomasStackBetaBetaWebHealthE02DC75A.template.json"},"runOrder":1,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}},{"name":"BetaWebHealth.Deploy","actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"Beta-BetaWebHealth","ActionMode":"CHANGE_SET_EXECUTE","ChangeSetName":"PipelineChange"},"runOrder":2,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}},{"name":"BetaTests","inputArtifacts":[{"name":"ThomasToan_WSU_DevOps_2025_Source"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"ThomasPipelineBetaBetaTests0FAA9968"}},"runOrder":3,"roleArn":{"Fn::GetAtt":["ThomasPipelineCodeBuildActionRoleD8859EBA","Arn"]}}]},{"name":"Gamma","actions":[{"name":"GammaWebHealth.Prepare","inputArtifacts":[{"name":"BuildCommands_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"Gamma-GammaWebHealth","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-cfn-exec-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"ActionMode":"CHANGE_SET_REPLACE","ChangeSetName":"PipelineChange","TemplatePath":"BuildCommands_Output::assembly-ThomasStack-Gamma/ThomasStackGammaGammaWebHealth7C91BE68.template.json"},"runOrder":1,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}},{"name":"GammaWebHealth.Deploy","actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"Gamma-GammaWebHealth","ActionMode":"CHANGE_SET_EXECUTE","ChangeSetName":"PipelineChange"},"runOrder":2,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}},{"name":"GammaTests","inputArtifacts":[{"name":"ThomasToan_WSU_DevOps_2025_Source"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"ThomasPipelineGammaGammaTests5BECF2DA"}},"runOrder":3,"roleArn":{"Fn::GetAtt":["ThomasPipelineCodeBuildActionRoleD8859EBA","Arn"]}}]},{"name":"Prod","actions":[{"name":"ProdWebHealth.Prepare","inputArtifacts":[{"name":"BuildCommands_Output"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"Prod-ProdWebHealth","Capabilities":"CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND","RoleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-cfn-exec-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]},"ActionMode":"CHANGE_SET_REPLACE","ChangeSetName":"PipelineChange","TemplatePath":"BuildCommands_Output::assembly-ThomasStack-Prod/ThomasStackProdProdWebHealth747B7E11.template.json"},"runOrder":1,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}},{"name":"ProdWebHealth.Deploy","actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"Prod-ProdWebHealth","ActionMode":"CHANGE_SET_EXECUTE","ChangeSetName":"PipelineChange"},"runOrder":2,"roleArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/cdk-hnb659fds-deploy-role-",{"Ref":"AWS::AccountId"},"-",{"Ref":"AWS::Region"}]]}},{"name":"ProdTests","inputArtifacts":[{"name":"ThomasToan_WSU_DevOps_2025_Source"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"ThomasPipelineProdProdTests306A630B"}},"runOrder":3,"roleArn":{"Fn::GetAtt":["ThomasPipelineCodeBuildActionRoleD8859EBA","Arn"]}}]}]}}},"Source":{"id":"Source","path":"ThomasStack/ThomasPipeline/Pipeline/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WSU_DevOps_2025":{"id":"WSU_DevOps_2025","path":"ThomasStack/ThomasPipeline/Pipeline/Source/WSU_DevOps_2025","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Build":{"id":"Build","path":"ThomasStack/ThomasPipeline/Pipeline/Build","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"BuildCommands":{"id":"BuildCommands","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CdkBuildProject":{"id":"CdkBuildProject","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands/CdkBuildProject","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.215.0","metadata":[]},"children":{"Role":{"id":"Role","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands/CdkBuildProject/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands/CdkBuildProject/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands/CdkBuildProject/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands/CdkBuildProject/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands/CdkBuildProject/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineBuildBuildCommandsCdkBuildProjectFBFC9B1D"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineBuildBuildCommandsCdkBuildProjectFBFC9B1D"},":*"]]}]},{"Action":["codebuild:CreateReportGroup","codebuild:CreateReport","codebuild:UpdateReport","codebuild:BatchPutTestCases","codebuild:BatchPutCodeCoverages"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"ThomasPipelineBuildBuildCommandsCdkBuildProjectFBFC9B1D"},"-*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThomasPipelineBuildBuildCommandsCdkBuildProjectRoleDefaultPolicy68E91E65","roles":[{"Ref":"ThomasPipelineBuildBuildCommandsCdkBuildProjectRole7D5F5408"}]}}}}}}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Build/BuildCommands/CdkBuildProject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step ThomasStack/Pipeline/Build/BuildCommands","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["ThomasPipelineBuildBuildCommandsCdkBuildProjectRole7D5F5408","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"build\": {\n      \"commands\": [\n        \"npm install -g aws-cdk\",\n        \"pip install -r requirements.txt\",\n        \"cdk synth\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"base-directory\": \"cdk.out\",\n    \"files\": \"**/*\"\n  }\n}"}}}}}}}}}},"UpdatePipeline":{"id":"UpdatePipeline","path":"ThomasStack/ThomasPipeline/Pipeline/UpdatePipeline","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"SelfMutate":{"id":"SelfMutate","path":"ThomasStack/ThomasPipeline/Pipeline/UpdatePipeline/SelfMutate","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Assets":{"id":"Assets","path":"ThomasStack/ThomasPipeline/Pipeline/Assets","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WHlambda_Code":{"id":"WHlambda_Code","path":"ThomasStack/ThomasPipeline/Pipeline/Assets/WHlambda_Code","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Beta":{"id":"Beta","path":"ThomasStack/ThomasPipeline/Pipeline/Beta","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"BetaWebHealth.Prepare":{"id":"BetaWebHealth.Prepare","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaWebHealth.Prepare","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BetaWebHealth.Deploy":{"id":"BetaWebHealth.Deploy","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaWebHealth.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BetaTests":{"id":"BetaTests","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"BetaTests":{"id":"BetaTests","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests/BetaTests","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.215.0","metadata":[]},"children":{"Role":{"id":"Role","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests/BetaTests/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests/BetaTests/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests/BetaTests/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests/BetaTests/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests/BetaTests/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineBetaBetaTests0FAA9968"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineBetaBetaTests0FAA9968"},":*"]]}]},{"Action":["codebuild:CreateReportGroup","codebuild:CreateReport","codebuild:UpdateReport","codebuild:BatchPutTestCases","codebuild:BatchPutCodeCoverages"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"ThomasPipelineBetaBetaTests0FAA9968"},"-*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThomasPipelineBetaBetaTestsRoleDefaultPolicyA0765CB5","roles":[{"Ref":"ThomasPipelineBetaBetaTestsRoleB41776DA"}]}}}}}}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Beta/BetaTests/BetaTests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step ThomasStack/Pipeline/Beta/BetaTests","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["ThomasPipelineBetaBetaTestsRoleB41776DA","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"build\": {\n      \"commands\": [\n        \"pytest tests/beta\"\n      ]\n    }\n  }\n}"}}}}}}}}}},"MutableRolearn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-deploy-role-${AWS::AccountId}-${AWS::Region}":{"id":"MutableRolearn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-deploy-role-${AWS::AccountId}-${AWS::Region}","path":"ThomasStack/ThomasPipeline/Pipeline/MutableRolearn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-deploy-role-${AWS::AccountId}-${AWS::Region}","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"arn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-deploy-role-${AWS::AccountId}-${AWS::Region}":{"id":"arn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-deploy-role-${AWS::AccountId}-${AWS::Region}","path":"ThomasStack/ThomasPipeline/Pipeline/arn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-deploy-role-${AWS::AccountId}-${AWS::Region}","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]},"children":{"8389e75f-0810-4838-bf64-d6f85a95cf83":{"id":"8389e75f-0810-4838-bf64-d6f85a95cf83","path":"ThomasStack/ThomasPipeline/Pipeline/arn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-deploy-role-${AWS::AccountId}-${AWS::Region}/8389e75f-0810-4838-bf64-d6f85a95cf83","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"MutableRolearn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-cfn-exec-role-${AWS::AccountId}-${AWS::Region}":{"id":"MutableRolearn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-cfn-exec-role-${AWS::AccountId}-${AWS::Region}","path":"ThomasStack/ThomasPipeline/Pipeline/MutableRolearn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-cfn-exec-role-${AWS::AccountId}-${AWS::Region}","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"arn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-cfn-exec-role-${AWS::AccountId}-${AWS::Region}":{"id":"arn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-cfn-exec-role-${AWS::AccountId}-${AWS::Region}","path":"ThomasStack/ThomasPipeline/Pipeline/arn:${AWS::Partition}:iam::${AWS::AccountId}:role--cdk-hnb659fds-cfn-exec-role-${AWS::AccountId}-${AWS::Region}","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Gamma":{"id":"Gamma","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"GammaWebHealth.Prepare":{"id":"GammaWebHealth.Prepare","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaWebHealth.Prepare","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"GammaWebHealth.Deploy":{"id":"GammaWebHealth.Deploy","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaWebHealth.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"GammaTests":{"id":"GammaTests","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"GammaTests":{"id":"GammaTests","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests/GammaTests","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.215.0","metadata":[]},"children":{"Role":{"id":"Role","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests/GammaTests/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests/GammaTests/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests/GammaTests/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests/GammaTests/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests/GammaTests/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineGammaGammaTests5BECF2DA"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineGammaGammaTests5BECF2DA"},":*"]]}]},{"Action":["codebuild:CreateReportGroup","codebuild:CreateReport","codebuild:UpdateReport","codebuild:BatchPutTestCases","codebuild:BatchPutCodeCoverages"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"ThomasPipelineGammaGammaTests5BECF2DA"},"-*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThomasPipelineGammaGammaTestsRoleDefaultPolicy4B0EE899","roles":[{"Ref":"ThomasPipelineGammaGammaTestsRoleA061C3FE"}]}}}}}}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Gamma/GammaTests/GammaTests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step ThomasStack/Pipeline/Gamma/GammaTests","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["ThomasPipelineGammaGammaTestsRoleA061C3FE","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"build\": {\n      \"commands\": [\n        \"pytest tests/gamma\"\n      ]\n    }\n  }\n}"}}}}}}}}}},"Prod":{"id":"Prod","path":"ThomasStack/ThomasPipeline/Pipeline/Prod","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"ProdWebHealth.Prepare":{"id":"ProdWebHealth.Prepare","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdWebHealth.Prepare","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"ProdWebHealth.Deploy":{"id":"ProdWebHealth.Deploy","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdWebHealth.Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"ProdTests":{"id":"ProdTests","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"ProdTests":{"id":"ProdTests","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests/ProdTests","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.215.0","metadata":[]},"children":{"Role":{"id":"Role","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests/ProdTests/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests/ProdTests/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests/ProdTests/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests/ProdTests/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests/ProdTests/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineProdProdTests306A630B"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineProdProdTests306A630B"},":*"]]}]},{"Action":["codebuild:CreateReportGroup","codebuild:CreateReport","codebuild:UpdateReport","codebuild:BatchPutTestCases","codebuild:BatchPutCodeCoverages"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"ThomasPipelineProdProdTests306A630B"},"-*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThomasPipelineProdProdTestsRoleDefaultPolicy734CCED6","roles":[{"Ref":"ThomasPipelineProdProdTestsRoleF4704B93"}]}}}}}}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Pipeline/Prod/ProdTests/ProdTests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step ThomasStack/Pipeline/Prod/ProdTests","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["ThomasPipelineProdProdTestsRoleF4704B93","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"build\": {\n      \"commands\": [\n        \"pytest tests/prod\"\n      ]\n    }\n  }\n}"}}}}}}}}}}}},"CodeBuildActionRole":{"id":"CodeBuildActionRole","path":"ThomasStack/ThomasPipeline/CodeBuildActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportCodeBuildActionRole":{"id":"ImportCodeBuildActionRole","path":"ThomasStack/ThomasPipeline/CodeBuildActionRole/ImportCodeBuildActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/CodeBuildActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["ThomasPipelineRole983AAFA8","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/CodeBuildActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/CodeBuildActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ThomasPipelineBuildBuildCommandsCdkBuildProjectFBFC9B1D","Arn"]}},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ThomasPipelineUpdatePipelineSelfMutation19CD4AF2","Arn"]}},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ThomasPipelineAssetsFileAsset1309E50BE","Arn"]}},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ThomasPipelineBetaBetaTests0FAA9968","Arn"]}},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ThomasPipelineGammaGammaTests5BECF2DA","Arn"]}},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ThomasPipelineProdProdTests306A630B","Arn"]}}],"Version":"2012-10-17"},"policyName":"ThomasPipelineCodeBuildActionRoleDefaultPolicyE1E75BFA","roles":[{"Ref":"ThomasPipelineCodeBuildActionRoleD8859EBA"}]}}}}}}},"UpdatePipeline":{"id":"UpdatePipeline","path":"ThomasStack/ThomasPipeline/UpdatePipeline","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"SelfMutation":{"id":"SelfMutation","path":"ThomasStack/ThomasPipeline/UpdatePipeline/SelfMutation","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.215.0","metadata":[]},"children":{"Role":{"id":"Role","path":"ThomasStack/ThomasPipeline/UpdatePipeline/SelfMutation/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"ThomasStack/ThomasPipeline/UpdatePipeline/SelfMutation/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/UpdatePipeline/SelfMutation/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/UpdatePipeline/SelfMutation/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/UpdatePipeline/SelfMutation/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineUpdatePipelineSelfMutation19CD4AF2"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"ThomasPipelineUpdatePipelineSelfMutation19CD4AF2"},":*"]]}]},{"Action":["codebuild:CreateReportGroup","codebuild:CreateReport","codebuild:UpdateReport","codebuild:BatchPutTestCases","codebuild:BatchPutCodeCoverages"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"ThomasPipelineUpdatePipelineSelfMutation19CD4AF2"},"-*"]]}},{"Action":"sts:AssumeRole","Condition":{"ForAnyValue:StringEquals":{"iam:ResourceTag/aws-cdk:bootstrap-role":["image-publishing","file-publishing","deploy"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:*:iam::",{"Ref":"AWS::AccountId"},":role/*"]]}},{"Action":"cloudformation:DescribeStacks","Effect":"Allow","Resource":"*"},{"Action":"s3:ListBucket","Effect":"Allow","Resource":"*"},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThomasPipelineUpdatePipelineSelfMutationRoleDefaultPolicy6BCCA69E","roles":[{"Ref":"ThomasPipelineUpdatePipelineSelfMutationRole283FBAE0"}]}}}}}}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/UpdatePipeline/SelfMutation/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step ThomasStack/Pipeline/UpdatePipeline/SelfMutate","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["ThomasPipelineUpdatePipelineSelfMutationRole283FBAE0","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"commands\": [\n        \"npm install -g aws-cdk@2\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"cdk -a . deploy ThomasStack --require-approval=never --verbose\"\n      ]\n    }\n  }\n}"}}}}}}}},"Assets":{"id":"Assets","path":"ThomasStack/ThomasPipeline/Assets","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"FileRole":{"id":"FileRole","path":"ThomasStack/ThomasPipeline/Assets/FileRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportFileRole":{"id":"ImportFileRole","path":"ThomasStack/ThomasPipeline/Assets/FileRole/ImportFileRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Assets/FileRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/ThomasPipeline/Assets/FileRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Assets/FileRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/*"]]}},{"Action":["codebuild:CreateReportGroup","codebuild:CreateReport","codebuild:UpdateReport","codebuild:BatchPutTestCases","codebuild:BatchPutCodeCoverages"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/*"]]}},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":"*"},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::Sub":"arn:${AWS::Partition}:iam::${AWS::AccountId}:role/cdk-hnb659fds-file-publishing-role-${AWS::AccountId}-${AWS::Region}"}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ThomasPipelineArtifactsBucket59C62674","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThomasPipelineAssetsFileRoleDefaultPolicyB657CB3E","roles":[{"Ref":"ThomasPipelineAssetsFileRole450D19B5"}]}}}}}}},"FileAsset1":{"id":"FileAsset1","path":"ThomasStack/ThomasPipeline/Assets/FileAsset1","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/ThomasPipeline/Assets/FileAsset1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"description":"Pipeline step ThomasStack/Pipeline/Assets/WHlambda_Code","encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["ThomasPipelineAssetsFileRole450D19B5","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"commands\": [\n        \"npm install -g cdk-assets@latest\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"cdk-assets --path \\\"assembly-ThomasStack-Beta/ThomasStackBetaBetaWebHealthE02DC75A.assets.json\\\" --verbose publish \\\"103cac5a8f680aa5134850fec67f38354d380942cd2ea22965f09df1f4709390:current_account-current_region-a7f624d6\\\"\"\n      ]\n    }\n  }\n}"}}}}}}}}}},"Beta":{"id":"Beta","path":"ThomasStack/Beta","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.215.0"},"children":{"BetaWebHealth":{"id":"BetaWebHealth","path":"ThomasStack/Beta/BetaWebHealth","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"WHlambda":{"id":"WHlambda","path":"ThomasStack/Beta/BetaWebHealth/WHlambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:PutMetricData","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"WHlambdaServiceRoleDefaultPolicyF7DA3D6C","roles":[{"Ref":"WHlambdaServiceRole37287BA4"}]}}}}}}},"Code":{"id":"Code","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/WHlambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"103cac5a8f680aa5134850fec67f38354d380942cd2ea22965f09df1f4709390.zip"},"handler":"WHLambda.lambda_handler","role":{"Fn::GetAtt":["WHlambdaServiceRole37287BA4","Arn"]},"runtime":"python3.13","timeout":30}}}}},"CanaryScheduleRule":{"id":"CanaryScheduleRule","path":"ThomasStack/Beta/BetaWebHealth/CanaryScheduleRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/CanaryScheduleRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"This is a test rule that invokes a lambda function every 5 minutes","scheduleExpression":"rate(5 minutes)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["WHlambda6B69687C","Arn"]}}]}}},"AllowEventRuleThomasStackBetaBetaWebHealthWHlambdaB7DC6D35":{"id":"AllowEventRuleThomasStackBetaBetaWebHealthWHlambdaB7DC6D35","path":"ThomasStack/Beta/BetaWebHealth/CanaryScheduleRule/AllowEventRuleThomasStackBetaBetaWebHealthWHlambdaB7DC6D35","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WHlambda6B69687C","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["CanaryScheduleRuleD6871090","Arn"]}}}}}},"WebHealthAlarms":{"id":"WebHealthAlarms","path":"ThomasStack/Beta/BetaWebHealth/WebHealthAlarms","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/WebHealthAlarms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"topicName":"web-health-alarms"}}},"22119278@student.westernsydney.edu.au":{"id":"22119278@student.westernsydney.edu.au","path":"ThomasStack/Beta/BetaWebHealth/WebHealthAlarms/22119278@student.westernsydney.edu.au","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/WebHealthAlarms/22119278@student.westernsydney.edu.au/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"22119278@student.westernsydney.edu.au","protocol":"email","topicArn":{"Ref":"WebHealthAlarms96722B1C"}}}}}}}},"AlarmLogTable":{"id":"AlarmLogTable","path":"ThomasStack/Beta/BetaWebHealth/AlarmLogTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/AlarmLogTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"AlarmName","attributeType":"S"},{"attributeName":"Timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"AlarmName","keyType":"HASH"},{"attributeName":"Timestamp","keyType":"RANGE"}],"replicas":[{"region":{"Ref":"AWS::Region"}}],"sseSpecification":{"sseEnabled":false},"tableName":"AlarmLogTable"}}}}},"LogAlarmLambda":{"id":"LogAlarmLambda","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AlarmLogTable5602BB0A","Arn"]}},{"Action":["dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AlarmLogTable5602BB0A","Arn"]}}],"Version":"2012-10-17"},"policyName":"LogAlarmLambdaServiceRoleDefaultPolicy8165DBB4","roles":[{"Ref":"LogAlarmLambdaServiceRole96875AC9"}]}}}}}}},"Code":{"id":"Code","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"103cac5a8f680aa5134850fec67f38354d380942cd2ea22965f09df1f4709390.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"AlarmLogTable5602BB0A"}}},"handler":"LogAlarmLambda.lambda_handler","role":{"Fn::GetAtt":["LogAlarmLambdaServiceRole96875AC9","Arn"]},"runtime":"python3.13","timeout":30}}},"AllowInvoke:ThomasStackBetaBetaWebHealthWebHealthAlarms54412E0D":{"id":"AllowInvoke:ThomasStackBetaBetaWebHealthWebHealthAlarms54412E0D","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/AllowInvoke:ThomasStackBetaBetaWebHealthWebHealthAlarms54412E0D","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["LogAlarmLambda6DD2F23C","Arn"]},"principal":"sns.amazonaws.com","sourceArn":{"Ref":"WebHealthAlarms96722B1C"}}}},"WebHealthAlarms":{"id":"WebHealthAlarms","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/WebHealthAlarms","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/LogAlarmLambda/WebHealthAlarms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["LogAlarmLambda6DD2F23C","Arn"]},"protocol":"lambda","topicArn":{"Ref":"WebHealthAlarms96722B1C"}}}}}}}},"AvailabilityAlarm-skipq_org":{"id":"AvailabilityAlarm-skipq_org","path":"ThomasStack/Beta/BetaWebHealth/AvailabilityAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/AvailabilityAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://skipq.org","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://skipq.org","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-skipq_org":{"id":"LatencyAlarm-skipq_org","path":"ThomasStack/Beta/BetaWebHealth/LatencyAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/LatencyAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://skipq.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://skipq.org","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-skipq_org":{"id":"StatusAlarm-skipq_org","path":"ThomasStack/Beta/BetaWebHealth/StatusAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/StatusAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://skipq.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://skipq.org","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"AvailabilityAlarm-example_com":{"id":"AvailabilityAlarm-example_com","path":"ThomasStack/Beta/BetaWebHealth/AvailabilityAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/AvailabilityAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://example.com","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://example.com","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-example_com":{"id":"LatencyAlarm-example_com","path":"ThomasStack/Beta/BetaWebHealth/LatencyAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/LatencyAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://example.com","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://example.com","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-example_com":{"id":"StatusAlarm-example_com","path":"ThomasStack/Beta/BetaWebHealth/StatusAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/StatusAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://example.com","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://example.com","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"AvailabilityAlarm-www_wikipedia_org":{"id":"AvailabilityAlarm-www_wikipedia_org","path":"ThomasStack/Beta/BetaWebHealth/AvailabilityAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/AvailabilityAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://www.wikipedia.org","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://www.wikipedia.org","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-www_wikipedia_org":{"id":"LatencyAlarm-www_wikipedia_org","path":"ThomasStack/Beta/BetaWebHealth/LatencyAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/LatencyAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://www.wikipedia.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://www.wikipedia.org","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-www_wikipedia_org":{"id":"StatusAlarm-www_wikipedia_org","path":"ThomasStack/Beta/BetaWebHealth/StatusAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/StatusAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://www.wikipedia.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://www.wikipedia.org","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"WHLambdaDashboard":{"id":"WHLambdaDashboard","path":"ThomasStack/Beta/BetaWebHealth/WHLambdaDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Beta/BetaWebHealth/WHLambdaDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Availability (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"availability: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://example.com\",{\"label\":\"availability: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"availability: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"latency: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://example.com\",{\"label\":\"latency: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"latency: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"HTTP Status (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"status: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://example.com\",{\"label\":\"status: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"status: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}}]}"]]},"dashboardName":"URLMONITOR_DASHBOARD"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ThomasStack/Beta/BetaWebHealth/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ThomasStack/Beta/BetaWebHealth/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Condition":{"id":"Condition","path":"ThomasStack/Beta/BetaWebHealth/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ThomasStack/Beta/BetaWebHealth/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ThomasStack/Beta/BetaWebHealth/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}}}},"Gamma":{"id":"Gamma","path":"ThomasStack/Gamma","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.215.0"},"children":{"GammaWebHealth":{"id":"GammaWebHealth","path":"ThomasStack/Gamma/GammaWebHealth","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"WHlambda":{"id":"WHlambda","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:PutMetricData","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"WHlambdaServiceRoleDefaultPolicyF7DA3D6C","roles":[{"Ref":"WHlambdaServiceRole37287BA4"}]}}}}}}},"Code":{"id":"Code","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/WHlambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"103cac5a8f680aa5134850fec67f38354d380942cd2ea22965f09df1f4709390.zip"},"handler":"WHLambda.lambda_handler","role":{"Fn::GetAtt":["WHlambdaServiceRole37287BA4","Arn"]},"runtime":"python3.13","timeout":30}}}}},"CanaryScheduleRule":{"id":"CanaryScheduleRule","path":"ThomasStack/Gamma/GammaWebHealth/CanaryScheduleRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/CanaryScheduleRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"This is a test rule that invokes a lambda function every 5 minutes","scheduleExpression":"rate(5 minutes)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["WHlambda6B69687C","Arn"]}}]}}},"AllowEventRuleThomasStackGammaGammaWebHealthWHlambdaE601647E":{"id":"AllowEventRuleThomasStackGammaGammaWebHealthWHlambdaE601647E","path":"ThomasStack/Gamma/GammaWebHealth/CanaryScheduleRule/AllowEventRuleThomasStackGammaGammaWebHealthWHlambdaE601647E","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WHlambda6B69687C","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["CanaryScheduleRuleD6871090","Arn"]}}}}}},"WebHealthAlarms":{"id":"WebHealthAlarms","path":"ThomasStack/Gamma/GammaWebHealth/WebHealthAlarms","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/WebHealthAlarms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"topicName":"web-health-alarms"}}},"22119278@student.westernsydney.edu.au":{"id":"22119278@student.westernsydney.edu.au","path":"ThomasStack/Gamma/GammaWebHealth/WebHealthAlarms/22119278@student.westernsydney.edu.au","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/WebHealthAlarms/22119278@student.westernsydney.edu.au/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"22119278@student.westernsydney.edu.au","protocol":"email","topicArn":{"Ref":"WebHealthAlarms96722B1C"}}}}}}}},"AlarmLogTable":{"id":"AlarmLogTable","path":"ThomasStack/Gamma/GammaWebHealth/AlarmLogTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/AlarmLogTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"AlarmName","attributeType":"S"},{"attributeName":"Timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"AlarmName","keyType":"HASH"},{"attributeName":"Timestamp","keyType":"RANGE"}],"replicas":[{"region":{"Ref":"AWS::Region"}}],"sseSpecification":{"sseEnabled":false},"tableName":"AlarmLogTable"}}}}},"LogAlarmLambda":{"id":"LogAlarmLambda","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AlarmLogTable5602BB0A","Arn"]}},{"Action":["dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AlarmLogTable5602BB0A","Arn"]}}],"Version":"2012-10-17"},"policyName":"LogAlarmLambdaServiceRoleDefaultPolicy8165DBB4","roles":[{"Ref":"LogAlarmLambdaServiceRole96875AC9"}]}}}}}}},"Code":{"id":"Code","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"103cac5a8f680aa5134850fec67f38354d380942cd2ea22965f09df1f4709390.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"AlarmLogTable5602BB0A"}}},"handler":"LogAlarmLambda.lambda_handler","role":{"Fn::GetAtt":["LogAlarmLambdaServiceRole96875AC9","Arn"]},"runtime":"python3.13","timeout":30}}},"AllowInvoke:ThomasStackGammaGammaWebHealthWebHealthAlarmsFDFB93FF":{"id":"AllowInvoke:ThomasStackGammaGammaWebHealthWebHealthAlarmsFDFB93FF","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/AllowInvoke:ThomasStackGammaGammaWebHealthWebHealthAlarmsFDFB93FF","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["LogAlarmLambda6DD2F23C","Arn"]},"principal":"sns.amazonaws.com","sourceArn":{"Ref":"WebHealthAlarms96722B1C"}}}},"WebHealthAlarms":{"id":"WebHealthAlarms","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/WebHealthAlarms","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/LogAlarmLambda/WebHealthAlarms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["LogAlarmLambda6DD2F23C","Arn"]},"protocol":"lambda","topicArn":{"Ref":"WebHealthAlarms96722B1C"}}}}}}}},"AvailabilityAlarm-skipq_org":{"id":"AvailabilityAlarm-skipq_org","path":"ThomasStack/Gamma/GammaWebHealth/AvailabilityAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/AvailabilityAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://skipq.org","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://skipq.org","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-skipq_org":{"id":"LatencyAlarm-skipq_org","path":"ThomasStack/Gamma/GammaWebHealth/LatencyAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/LatencyAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://skipq.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://skipq.org","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-skipq_org":{"id":"StatusAlarm-skipq_org","path":"ThomasStack/Gamma/GammaWebHealth/StatusAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/StatusAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://skipq.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://skipq.org","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"AvailabilityAlarm-example_com":{"id":"AvailabilityAlarm-example_com","path":"ThomasStack/Gamma/GammaWebHealth/AvailabilityAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/AvailabilityAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://example.com","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://example.com","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-example_com":{"id":"LatencyAlarm-example_com","path":"ThomasStack/Gamma/GammaWebHealth/LatencyAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/LatencyAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://example.com","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://example.com","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-example_com":{"id":"StatusAlarm-example_com","path":"ThomasStack/Gamma/GammaWebHealth/StatusAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/StatusAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://example.com","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://example.com","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"AvailabilityAlarm-www_wikipedia_org":{"id":"AvailabilityAlarm-www_wikipedia_org","path":"ThomasStack/Gamma/GammaWebHealth/AvailabilityAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/AvailabilityAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://www.wikipedia.org","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://www.wikipedia.org","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-www_wikipedia_org":{"id":"LatencyAlarm-www_wikipedia_org","path":"ThomasStack/Gamma/GammaWebHealth/LatencyAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/LatencyAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://www.wikipedia.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://www.wikipedia.org","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-www_wikipedia_org":{"id":"StatusAlarm-www_wikipedia_org","path":"ThomasStack/Gamma/GammaWebHealth/StatusAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/StatusAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://www.wikipedia.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://www.wikipedia.org","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"WHLambdaDashboard":{"id":"WHLambdaDashboard","path":"ThomasStack/Gamma/GammaWebHealth/WHLambdaDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Gamma/GammaWebHealth/WHLambdaDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Availability (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"availability: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://example.com\",{\"label\":\"availability: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"availability: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"latency: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://example.com\",{\"label\":\"latency: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"latency: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"HTTP Status (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"status: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://example.com\",{\"label\":\"status: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"status: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}}]}"]]},"dashboardName":"URLMONITOR_DASHBOARD"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ThomasStack/Gamma/GammaWebHealth/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ThomasStack/Gamma/GammaWebHealth/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Condition":{"id":"Condition","path":"ThomasStack/Gamma/GammaWebHealth/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ThomasStack/Gamma/GammaWebHealth/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ThomasStack/Gamma/GammaWebHealth/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}}}},"Prod":{"id":"Prod","path":"ThomasStack/Prod","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.215.0"},"children":{"ProdWebHealth":{"id":"ProdWebHealth","path":"ThomasStack/Prod/ProdWebHealth","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"WHlambda":{"id":"WHlambda","path":"ThomasStack/Prod/ProdWebHealth/WHlambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cloudwatch:PutMetricData","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"WHlambdaServiceRoleDefaultPolicyF7DA3D6C","roles":[{"Ref":"WHlambdaServiceRole37287BA4"}]}}}}}}},"Code":{"id":"Code","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/WHlambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"103cac5a8f680aa5134850fec67f38354d380942cd2ea22965f09df1f4709390.zip"},"handler":"WHLambda.lambda_handler","role":{"Fn::GetAtt":["WHlambdaServiceRole37287BA4","Arn"]},"runtime":"python3.13","timeout":30}}}}},"CanaryScheduleRule":{"id":"CanaryScheduleRule","path":"ThomasStack/Prod/ProdWebHealth/CanaryScheduleRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/CanaryScheduleRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"This is a test rule that invokes a lambda function every 5 minutes","scheduleExpression":"rate(5 minutes)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["WHlambda6B69687C","Arn"]}}]}}},"AllowEventRuleThomasStackProdProdWebHealthWHlambda32275F19":{"id":"AllowEventRuleThomasStackProdProdWebHealthWHlambda32275F19","path":"ThomasStack/Prod/ProdWebHealth/CanaryScheduleRule/AllowEventRuleThomasStackProdProdWebHealthWHlambda32275F19","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WHlambda6B69687C","Arn"]},"principal":"events.amazonaws.com","sourceArn":{"Fn::GetAtt":["CanaryScheduleRuleD6871090","Arn"]}}}}}},"WebHealthAlarms":{"id":"WebHealthAlarms","path":"ThomasStack/Prod/ProdWebHealth/WebHealthAlarms","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/WebHealthAlarms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"topicName":"web-health-alarms"}}},"22119278@student.westernsydney.edu.au":{"id":"22119278@student.westernsydney.edu.au","path":"ThomasStack/Prod/ProdWebHealth/WebHealthAlarms/22119278@student.westernsydney.edu.au","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/WebHealthAlarms/22119278@student.westernsydney.edu.au/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"22119278@student.westernsydney.edu.au","protocol":"email","topicArn":{"Ref":"WebHealthAlarms96722B1C"}}}}}}}},"AlarmLogTable":{"id":"AlarmLogTable","path":"ThomasStack/Prod/ProdWebHealth/AlarmLogTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/AlarmLogTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"AlarmName","attributeType":"S"},{"attributeName":"Timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"AlarmName","keyType":"HASH"},{"attributeName":"Timestamp","keyType":"RANGE"}],"replicas":[{"region":{"Ref":"AWS::Region"}}],"sseSpecification":{"sseEnabled":false},"tableName":"AlarmLogTable"}}}}},"LogAlarmLambda":{"id":"LogAlarmLambda","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":[]}},"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AlarmLogTable5602BB0A","Arn"]}},{"Action":["dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::GetAtt":["AlarmLogTable5602BB0A","Arn"]}}],"Version":"2012-10-17"},"policyName":"LogAlarmLambdaServiceRoleDefaultPolicy8165DBB4","roles":[{"Ref":"LogAlarmLambdaServiceRole96875AC9"}]}}}}}}},"Code":{"id":"Code","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"103cac5a8f680aa5134850fec67f38354d380942cd2ea22965f09df1f4709390.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"AlarmLogTable5602BB0A"}}},"handler":"LogAlarmLambda.lambda_handler","role":{"Fn::GetAtt":["LogAlarmLambdaServiceRole96875AC9","Arn"]},"runtime":"python3.13","timeout":30}}},"AllowInvoke:ThomasStackProdProdWebHealthWebHealthAlarms610BFB7A":{"id":"AllowInvoke:ThomasStackProdProdWebHealthWebHealthAlarms610BFB7A","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/AllowInvoke:ThomasStackProdProdWebHealthWebHealthAlarms610BFB7A","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["LogAlarmLambda6DD2F23C","Arn"]},"principal":"sns.amazonaws.com","sourceArn":{"Ref":"WebHealthAlarms96722B1C"}}}},"WebHealthAlarms":{"id":"WebHealthAlarms","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/WebHealthAlarms","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/LogAlarmLambda/WebHealthAlarms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["LogAlarmLambda6DD2F23C","Arn"]},"protocol":"lambda","topicArn":{"Ref":"WebHealthAlarms96722B1C"}}}}}}}},"AvailabilityAlarm-skipq_org":{"id":"AvailabilityAlarm-skipq_org","path":"ThomasStack/Prod/ProdWebHealth/AvailabilityAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/AvailabilityAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://skipq.org","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://skipq.org","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-skipq_org":{"id":"LatencyAlarm-skipq_org","path":"ThomasStack/Prod/ProdWebHealth/LatencyAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/LatencyAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://skipq.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://skipq.org","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-skipq_org":{"id":"StatusAlarm-skipq_org","path":"ThomasStack/Prod/ProdWebHealth/StatusAlarm-skipq_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/StatusAlarm-skipq_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://skipq.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://skipq.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://skipq.org","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"AvailabilityAlarm-example_com":{"id":"AvailabilityAlarm-example_com","path":"ThomasStack/Prod/ProdWebHealth/AvailabilityAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/AvailabilityAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://example.com","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://example.com","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-example_com":{"id":"LatencyAlarm-example_com","path":"ThomasStack/Prod/ProdWebHealth/LatencyAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/LatencyAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://example.com","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://example.com","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-example_com":{"id":"StatusAlarm-example_com","path":"ThomasStack/Prod/ProdWebHealth/StatusAlarm-example_com","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/StatusAlarm-example_com/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://example.com","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://example.com"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://example.com","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"AvailabilityAlarm-www_wikipedia_org":{"id":"AvailabilityAlarm-www_wikipedia_org","path":"ThomasStack/Prod/ProdWebHealth/AvailabilityAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/AvailabilityAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Availability < 1 for https://www.wikipedia.org","comparisonOperator":"LessThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"availability","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"availability: https://www.wikipedia.org","returnData":true}],"threshold":1,"treatMissingData":"breaching"}}}}},"LatencyAlarm-www_wikipedia_org":{"id":"LatencyAlarm-www_wikipedia_org","path":"ThomasStack/Prod/ProdWebHealth/LatencyAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/LatencyAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Latency > 2000 ms for https://www.wikipedia.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"latency","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"latency: https://www.wikipedia.org","returnData":true}],"threshold":2000,"treatMissingData":"breaching"}}}}},"StatusAlarm-www_wikipedia_org":{"id":"StatusAlarm-www_wikipedia_org","path":"ThomasStack/Prod/ProdWebHealth/StatusAlarm-www_wikipedia_org","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/StatusAlarm-www_wikipedia_org/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmActions":[{"Ref":"WebHealthAlarms96722B1C"}],"alarmDescription":"Status > 399 for https://www.wikipedia.org","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":1,"evaluationPeriods":1,"metrics":[{"metricStat":{"metric":{"metricName":"status","namespace":"THOMASPROJECT_WSU2025","dimensions":[{"name":"WebsiteName","value":"https://www.wikipedia.org"}]},"period":300,"stat":"Average"},"id":"m1","label":"status: https://www.wikipedia.org","returnData":true}],"threshold":399,"treatMissingData":"breaching"}}}}},"WHLambdaDashboard":{"id":"WHLambdaDashboard","path":"ThomasStack/Prod/ProdWebHealth/WHLambdaDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.215.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ThomasStack/Prod/ProdWebHealth/WHLambdaDashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Availability (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"availability: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://example.com\",{\"label\":\"availability: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"availability\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"availability: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Latency (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"latency: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://example.com\",{\"label\":\"latency: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"latency\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"latency: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":12,\"properties\":{\"view\":\"timeSeries\",\"title\":\"HTTP Status (avg by URL, 5m)\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://skipq.org\",{\"label\":\"status: https://skipq.org\"}],[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://example.com\",{\"label\":\"status: https://example.com\"}],[\"THOMASPROJECT_WSU2025\",\"status\",\"WebsiteName\",\"https://www.wikipedia.org\",{\"label\":\"status: https://www.wikipedia.org\"}]],\"yAxis\":{},\"legend\":{\"position\":\"right\"},\"period\":300}}]}"]]},"dashboardName":"URLMONITOR_DASHBOARD"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ThomasStack/Prod/ProdWebHealth/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ThomasStack/Prod/ProdWebHealth/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Condition":{"id":"Condition","path":"ThomasStack/Prod/ProdWebHealth/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ThomasStack/Prod/ProdWebHealth/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ThomasStack/Prod/ProdWebHealth/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ThomasStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ThomasStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Condition":{"id":"Condition","path":"ThomasStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ThomasStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ThomasStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}